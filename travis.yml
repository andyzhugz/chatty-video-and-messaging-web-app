language: node_js
install:
  - nvm install node
  - node -v
  - npm i -g yarn
  - yarn
  - npm install --save-dev jest
  - npm i jest-fetch-mock
  - yarn add isomorphic-fetch
script:
  - rm -rf node_modules
  - cd client
  - rm package-lock.json
  - nvm install node
  - node -v
  - npm install yarn
  - yarn
  - npm install jest@26.6.0
  - npm ls jest
  - yarn test --coverage
  - cd ..
  - cd api
  - npm i async
  - npm install supertest --save-dev
  - node app.js
  - jest test --coverage
  # - yarn test app.test.js ChatView.test.js login.test.js mainPage.test.js naviBar.test.js profile.test.js register.test.js--coverage
# safelist
branches:
  only:
  - Week4